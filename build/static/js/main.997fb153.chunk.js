(this["webpackJsonpflash-cards"]=this["webpackJsonpflash-cards"]||[]).push([[0],{183:function(e,t,n){},184:function(e,t,n){},198:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(65),s=n.n(r),i=n(33),o=n(7),l=n(42),u=(n(178),n(179),n(180),n(181),{apiKey:"AIzaSyB25ZqbIrDuXWUokLFcsbltpjUf5pjhb-w",authDomain:"flashcardapp-d3306.firebaseapp.com",databaseURL:"https://flashcardapp-d3306.firebaseio.com",projectId:"flashcardapp-d3306",storageBucket:"flashcardapp-d3306.appspot.com",messagingSenderId:"635798969664",appId:"1:635798969664:web:562fb322eeb9d31667eea5",measurementId:"G-XSQ0TX77TY"});l.a.initializeApp(u);var d=l.a.auth(),j=l.a.firestore(),b=l.a,h=(l.a.storage(),n(2)),f=a.a.createContext(),O=function(e){var t=Object(c.useState)(null),n=Object(o.a)(t,2),a=n[0],r=n[1];return Object(c.useEffect)((function(){var e=d.onAuthStateChanged((function(e){r(e||null)}));return function(){return e()}})),Object(h.jsx)(f.Provider,{value:{user:a},children:e.children})},m=(n(183),n(184),n(30)),g=n(49),p=function(e){var t=l.a.firestore(),n=Object(c.useState)([]),a=Object(o.a)(n,2),r=a[0],s=a[1];return Object(c.useEffect)((function(){if(e){var n=t.collection("users").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(g.a)({id:e.id},e.data()))})),s(t)}),(function(e){return console.log("Error: ",e.message)}));return function(){return n()}}s([])}),[e]),{users:r}},x=n(5),v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=Object(c.useContext)(f),i=s.user,l=Object(c.useState)(null),u=Object(o.a)(l,2),h=u[0],O=u[1],m=Object(c.useState)(null),g=Object(o.a)(m,2),p=g[0],x=g[1],v=Object(c.useState)("pending"),w=Object(o.a)(v,2),C=w[0],y=w[1],S=Object(c.useState)(0),N=Object(o.a)(S,2),E=N[0],k=N[1],P=Object(c.useState)(0),U=Object(o.a)(P,2),A=U[0],I=U[1],D=Object(c.useState)(0),L=Object(o.a)(D,2),T=L[0],z=L[1],F=Object(c.useState)(0),R=Object(o.a)(F,2),W=R[0],B=R[1],M=Object(c.useState)(0),X=Object(o.a)(M,2),V=X[0],J=X[1],Q=Object(c.useState)(0),_=Object(o.a)(Q,2),q=_[0],G=_[1];Object(c.useEffect)((function(){0!==E&&null==i&&(x(null),y("loading"),d.signInWithEmailAndPassword(t,n).then((function(e){var t=e.user;"u1UXlHy2wvUC0LfSb5lQxO5d2jh1"!=t.uid?(d.signOut(),y("error")):(O(t),y("success"))})).catch((function(e){console.error("Error logging user in: ",e.message),x(e),y("error")})))}),[E]),Object(c.useEffect)((function(){0!==A&&null==i&&(x(null),y("loading"),d.createUserWithEmailAndPassword(t,n).then((function(t){var n=t.user;j.collection("users").doc(n.uid).set({save_decks:[]}),t.user.updateProfile({displayName:e}),O(n),y("success")})).catch((function(e){console.error("Error signing user in: ",e.message),x(e),y("error")})))}),[A]),Object(c.useEffect)((function(){0!==T&&null!==i&&(x(null),y("loading"),d.signOut().then((function(){console.log("Logged out"),O(null),localStorage.removeItem("deck"),localStorage.removeItem("save_decks"),y("success")})).catch((function(e){console.error("Error logging user out: ",e.message),x(e.code),y("error")})))}),[T]),Object(c.useEffect)((function(){if(0!==W&&null!==i){x(null),y("loading");var c=b.auth.EmailAuthProvider.credential(d.currentUser.email,n);d.currentUser.reauthenticateWithCredential(c).then((function(){console.log("User successfully reauthenticated."),d.currentUser.updateEmail(t).then((function(){y("success")})).catch((function(e){x(e.code),y("error")})),y("loading"),d.currentUser.updateProfile({displayName:e,photoURL:r}).then((function(){O(d.currentUser),y("success")})).catch((function(e){x(e.code),y("error")}))})).catch((function(e){x(e.code),y("error")}))}}),[W]),Object(c.useEffect)((function(){if(0!==V&&null!==i){x(null),y("loading");var e=b.auth.EmailAuthProvider.credential(d.currentUser.email,n);d.currentUser.reauthenticateWithCredential(e).then((function(){console.log("User successfully reauthenticated."),d.currentUser.updatePassword(a).then((function(){y("success")})).catch((function(e){x(e.code),y("error")}))})).catch((function(e){x(e.code),y("error")}))}}),[V]),Object(c.useEffect)((function(){if(0!==q&&null!==i){x(null),y("loading");var e=b.auth.EmailAuthProvider.credential(d.currentUser.email,n);d.currentUser.reauthenticateWithCredential(e).then((function(){d.currentUser.delete().then((function(){y("success")})).catch((function(e){x(e.code),y("error")}))})).catch((function(e){x(e.code),y("error")}))}}),[q]);var H=function(){return k((function(e){return e+1}))},K=function(){return I((function(e){return e+1}))},Y=function(){return z((function(e){return e+1}))},Z=function(){return B((function(e){return e+1}))},$=function(){return J((function(e){return e+1}))},ee=function(){return G((function(e){return e+1}))},te=function(){return y("pending")};return{userData:h,error:p,status:C,handleLogin:H,handleSignup:K,handleLogout:Y,handleChangeEmail:Z,handleChangePassword:$,handleDeleteAccount:ee,resetStatus:te}},w=n(22),C=n(23),y=function(e){var t,n=e.title,c=e.styles,a=void 0===c?{textAlign:"center"}:c;return t=Object(h.jsx)("h1",{style:a,children:n}),Object(h.jsx)("header",{className:"page-heading",children:t})},S=function(e){var t=e.labelText,n=e.icon,a=void 0===n?null:n,r=e.type,s=void 0===r?"text":r,i=e.id,l=void 0===i?"":i,u=e.name,d=void 0===u?"":u,j=(e.placeholder,e.value),b=e.onChange,f=e.autocomplete,O=void 0===f?"on":f,m=Object(c.useState)(!0),g=Object(o.a)(m,2),p=g[0],x=g[1];return null===a&&"password"===s&&(a=Object(h.jsx)(w.a,{icon:C.f})),Object(h.jsxs)("div",{className:"input-block",children:[Object(h.jsx)("label",{htmlFor:l,children:t}),Object(h.jsxs)("div",{className:"input-row",children:[a,Object(h.jsx)("input",{type:"password"===s?p?"password":"text":s,name:d,id:l,value:j,onChange:b,style:{outline:"none"},autoComplete:O}),"password"===s&&Object(h.jsx)("button",{type:"button",className:"btn btn-icon",onClick:function(e){e.preventDefault(),x((function(e){return!e}))},children:p?Object(h.jsx)(w.a,{icon:C.d}):Object(h.jsx)(w.a,{icon:C.e})})]})]})},N=function(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(m.f)(),s=Object(c.useState)({email:"",password:""}),i=Object(o.a)(s,2),l=i[0],u=i[1],d=v(null,l.email,l.password),j=d.status,b=d.error,O=d.handleLogin,p=Object(c.useContext)(f).user,N=function(e){var t=e.target,n=t.name,c=t.value;u((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(x.a)({},n,c))}))};return Object(c.useEffect)((function(){p&&r.push("/user")}),[p]),Object(c.useEffect)((function(){if(null!==b)switch(b.code){case null:return void a("");case"auth/user-not-found":case"auth/wrong-password":return void a("\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u4e00\u81f4\u3057\u307e\u305b\u3093\u3002");case"auth/invalid-email":return void a("\u6709\u52b9\u306a\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002");default:return void a("\u4f55\u304b\u304c\u3046\u307e\u304f\u3044\u304b\u306a\u304b\u3063\u305f\u3002\u3082\u3046\u4e00\u5ea6\u3084\u308a\u76f4\u3057\u3066\u304f\u3060\u3055\u3044\u3002")}else a("")}),[b]),Object(h.jsxs)("div",{className:"login",style:{textAlign:"center"},children:[Object(h.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",marginRight:200},children:Object(h.jsx)(y,{title:"\u30ed\u30b0\u30a4\u30f3"})}),Object(h.jsxs)("form",{style:{display:"inline-block"},onSubmit:function(e){e.preventDefault(),O()},children:[Object(h.jsx)(S,{labelText:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9",icon:Object(h.jsx)(w.a,{icon:C.c}),id:"email",name:"email",value:l.email,onChange:N,placeholder:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9"}),Object(h.jsx)(S,{labelText:"\u30d1\u30b9\u30ef\u30fc\u30c9",icon:Object(h.jsx)(w.a,{icon:C.f}),type:"password",id:"password",name:"password",value:l.password,onChange:N}),""!==n&&Object(h.jsx)("p",{className:"error",children:n}),Object(h.jsx)("button",{className:"btn btn-primary",style:{backgroundColor:"#526CC6",borderColor:"unset",borderRadius:20,borderWidth:0},disabled:""===l.password||""===l.email,children:"loading"===j?"\u8aad\u307f\u8fbc\u307f\u4e2d . . . ":"success"===j?"\u6210\u529f":"\u30ed\u30b0\u30a4\u30f3"})]})]})},E=function(e){var t=e.size,n=void 0===t?"1x":t;return Object(h.jsx)(w.a,{icon:C.g,size:n,className:"spinner"})},k=function(){var e=Object(c.useContext)(f).user,t=v().handleLogout,n=Object(m.f)();return Object(c.useEffect)((function(){e&&(t(),setTimeout((function(){return n.push("/")}),1e3))}),[e]),Object(h.jsx)("div",{className:"container center",children:Object(h.jsxs)("p",{children:[Object(h.jsx)(E,{})," Logging out . . ."]})})},P=function(e){var t=e.handleChange,n=e.inputs,a=e.error,r=e.onSubmit,s=e.status,i=Object(c.useState)(""),l=Object(o.a)(i,2),u=l[0],d=l[1];return Object(c.useEffect)((function(){if(null!==a)switch(a){case null:return void d("");case"auth/wrong-password":return void d("Incorrect password.");default:return void d("Something went wrong. Please try again.")}else d("")}),[a]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(y,{title:"\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5909\u66f4\u3057\u3066\u304f\u3060\u3055\u3044"}),Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r()},children:[Object(h.jsx)(S,{labelText:"\u73fe\u5728\u306e\u30d1\u30b9\u30ef\u30fc\u30c9",icon:Object(h.jsx)(w.a,{icon:C.f}),type:"password",id:"password",name:"password",value:n.password,onChange:t}),Object(h.jsx)(S,{labelText:"\u65b0\u3057\u3044\u30d1\u30b9\u30ef\u30fc\u30c9",icon:Object(h.jsx)(w.a,{icon:C.f}),type:"password",id:"new-password",name:"newPassword",value:n.newPassword,onChange:t}),""!==u&&Object(h.jsx)("p",{className:"error",children:u}),Object(h.jsx)("button",{className:"btn btn-primary",style:{color:"white",background:"#526CC6",border:"unset"},children:"loading"===s?"\u8aad\u307f\u8fbc\u307f\u4e2d . . . ":"success"===s?"\u6210\u529f":"\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5909\u66f4\u3059\u308b"})]})]})},U=function(e){var t=e.handleChange,n=e.inputs,a=e.error,r=e.onSubmit,s=Object(c.useState)(""),i=Object(o.a)(s,2),l=i[0],u=i[1];return Object(c.useEffect)((function(){switch(a){case null:return void u("");case"auth/wrong-password":return void u("Incorrect password.");default:return void u("Something went wrong. Please try again.")}}),[a]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(y,{title:"\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u524a\u9664\u3059\u308b"}),Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r()},children:[Object(h.jsx)(S,{labelText:"\u73fe\u5728\u306e\u30d1\u30b9\u30ef\u30fc\u30c9",icon:Object(h.jsx)(w.a,{icon:C.f}),type:"password",id:"password",name:"password",value:n.password,onChange:t}),""!==l&&Object(h.jsx)("p",{className:"error",children:l}),Object(h.jsx)("button",{className:"btn btn-warning",children:"\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u5b8c\u5168\u306b\u524a\u9664\u3059\u308b"})]})]})},A=function(e){var t=e.handleChange,n=e.inputs,a=e.onSubmit,r=e.error,s=e.status,i=e.onBack,l=Object(c.useState)(""),u=Object(o.a)(l,2),d=u[0],j=u[1];return Object(c.useEffect)((function(){if(null!==r)switch(r.code){case null:return void j("");case"auth/wrong-password":return void j("Incorrect password.");default:return void j("Something went wrong. Please try again.")}else j("")}),[r]),Object(c.useEffect)((function(){return function(){return i()}}),[]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(y,{title:"\u30e1\u30fc\u30eb\u3092\u66f4\u65b0\u3059\u308b"}),Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a()},children:[Object(h.jsx)(S,{labelText:"\u30e6\u30fc\u30b6\u30fc\u540d",icon:Object(h.jsx)(w.a,{icon:C.j}),id:"username",name:"username",value:n.username,onChange:t}),Object(h.jsx)(S,{labelText:"\u73fe\u5728\u306e\u30d1\u30b9\u30ef\u30fc\u30c9",icon:Object(h.jsx)(w.a,{icon:C.f}),type:"password",id:"password",name:"password",value:n.password,onChange:t}),Object(h.jsx)(S,{labelText:"\u30e1\u30eb\u30a2\u30c9\u30ec\u30b9",icon:Object(h.jsx)(w.a,{icon:C.c}),id:"email",name:"email",value:n.email,onChange:t,placeholder:"\u30e1\u30eb\u30a2\u30c9\u30ec\u30b9"}),""!==d&&Object(h.jsx)("p",{className:"error",children:d}),Object(h.jsx)("button",{className:"btn btn-primary",style:{color:"white",background:"#526CC6",border:"unset"},disabled:""===n.password||""===n.email||""===n.username,children:"loading"===s?"\u8aad\u307f\u8fbc\u307f\u4e2d . . . ":"success"===s?"\u6210\u529f":"\u30e1\u30fc\u30eb\u3092\u66f4\u65b0\u3059\u308b"})]})]})},I=function(){var e=Object(c.useContext)(f).user,t=Object(c.useState)({email:e.email||"",password:"",newPassword:"",username:e.displayName||"",avatarUrl:e.photoUrl||""}),n=Object(o.a)(t,2),a=n[0],r=n[1],s=v(a.username,a.email,a.password,a.newPassword),l=s.loading,u=s.error,d=s.status,j=s.handleChangeEmail,b=s.handleChangePassword,O=s.handleDeleteAccount,p=s.resetStatus,S=Object(m.f)(),N=function(e){var t=e.target,n=t.name,c=t.value;r((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(x.a)({},n,c))}))};return e||S.push("/log-in"),Object(h.jsx)("div",{className:"my-account",children:Object(h.jsx)("div",{className:"my-account-inner",style:{width:"50%",margin:"0 auto"},children:Object(h.jsxs)(m.c,{children:[Object(h.jsx)(m.a,{exact:!0,path:"/my-account",children:Object(h.jsxs)("div",{children:[Object(h.jsx)(y,{title:"\u30a2\u30ab\u30a6\u30f3\u30c8"}),Object(h.jsx)("div",{className:"account-data",children:Object(h.jsxs)(i.b,{to:"/my-account/change-email",className:"btn btn-tertiary",children:[Object(h.jsx)("span",{children:"\u30e1\u30fc\u30eb\u3092\u66f4\u65b0\u3059\u308b"}),Object(h.jsx)(w.a,{icon:C.b,className:"icon"})]})}),Object(h.jsx)("div",{className:"account-data",children:Object(h.jsxs)(i.b,{to:"/my-account/change-password",className:"btn btn-tertiary",children:[Object(h.jsx)("span",{children:"\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5909\u66f4\u3057\u3066\u304f\u3060\u3055\u3044"}),Object(h.jsx)(w.a,{icon:C.b,className:"icon"})]})}),Object(h.jsx)("div",{className:"account-data",children:Object(h.jsxs)(i.b,{to:"/my-account/delete-account",className:"btn btn-warning",children:[Object(h.jsx)(w.a,{icon:C.h}),"\xa0\xa0\xa0\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u524a\u9664\u3059\u308b"]})})]})}),Object(h.jsx)(m.a,{exact:!0,path:"/my-account/change-email",children:Object(h.jsx)(A,{handleChange:N,inputs:a,loading:l,onSubmit:j,error:u,status:d,onBack:p})}),Object(h.jsx)(m.a,{exact:!0,path:"/my-account/change-password",children:Object(h.jsx)(P,{handleChange:N,loading:l,inputs:a,onSubmit:b,error:u,status:d})}),Object(h.jsx)(m.a,{exact:!0,path:"/my-account/delete-account",children:Object(h.jsx)(U,{handleChange:N,inputs:a,onSubmit:O,error:u})})]})})})},D=function(e){var t=e.closeMenu,n=e.userName,a=Object(c.useState)(""),r=Object(o.a)(a,2),s=r[0],l=r[1],u=Object(c.useState)(""),d=Object(o.a)(u,2),j=d[0],b=d[1];Object(c.useEffect)((function(){b("#"+f()),console.log(j),n&&l(n.charAt(0).toUpperCase())}),[n]);var f=function(){return Math.floor(16777215*Math.random()).toString(16)};return Object(h.jsxs)("div",{style:{position:"relative",display:"flex"},children:[Object(h.jsx)("div",{className:"avatar-btn",style:{backgroundColor:"".concat(j)},children:Object(h.jsx)("div",{className:"name",children:s})}),Object(h.jsx)("div",{className:"avt-links",children:Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{children:Object(h.jsx)(i.c,{to:"/my-account",className:"link",onClick:function(){return t()},children:"\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb"})}),Object(h.jsx)("li",{children:Object(h.jsx)(i.c,{to:"/log-out",className:"link",onClick:function(){return t()},children:"\u30ed\u30b0\u30a2\u30a6\u30c8"})})]})}),Object(h.jsx)("div",{style:{height:"36px",display:"flex",alignItems:"center",marginLeft:"8px",fontSize:"20px",color:"white"},children:n})]})},L=function(e){var t=e.onClick,n=e.onSearch,a=Object(c.useState)("navbar"),r=Object(o.a)(a,2),s=r[0],l=r[1],u=Object(m.g)(),d=Object(c.useContext)(f).user,j=Object(c.useState)(""),b=Object(o.a)(j,2),O=b[0],g=b[1];return Object(c.useEffect)((function(){"/"===u.pathname?l("navbar"):l("navbar light")}),[u]),d?Object(h.jsx)("header",{className:s,style:{background:"#526CC6"},children:Object(h.jsxs)("div",{className:"navbar-inner",children:[Object(h.jsx)("div",{className:"logo",children:Object(h.jsx)(i.b,{to:"/",className:"logo",children:"\u30db\u30fc\u30e0"})}),Object(h.jsx)("input",{style:{outline:"unset",height:30,borderRadius:15,paddingLeft:10,borderColor:"white"},id:"search",name:"search",placeholder:"\u691c\u7d22",value:O,onChange:function(e){g(e.target.value),n(e.target.value)}}),Object(h.jsxs)("div",{className:"right-nav",children:[Object(h.jsx)("nav",{className:"large-screen-only",children:Object(h.jsx)(D,{closeMenu:function(){return null},userName:d.displayName})}),Object(h.jsxs)("button",{className:"btn btn-hamburger small-screen-only ",name:"toggle-menu",onClick:t,children:[Object(h.jsx)("span",{}),Object(h.jsx)("span",{})]})]})]})}):null},T=n(83),z=n(263),F=n(262),R=function(e){j.collection("decks").doc(e).delete().then(console.log("Deck successfully deleted.")).catch((function(e){console.error("Error deleting deck: ",e.message)}))},W=function(e){j.collection("users").doc(e).update({isActive:!1}).then(console.log("User successfully deleted.")).catch((function(e){console.error("Error deleting deck: ",e.message)}))},B=function(e){j.collection("users").doc(e).update({isActive:!0}).then(console.log("User successfully deleted.")).catch((function(e){console.error("Error deleting deck: ",e.message)}))};function M(){var e=Object(T.c)(),t=Object(T.d)(e,T.b);return Object(h.jsx)(z.a,{color:"primary",variant:"outlined",shape:"rounded",page:t.page+1,count:t.pageCount,renderItem:function(e){return Object(h.jsx)(F.a,Object(g.a)(Object(g.a)({},e),{},{disableRipple:!0}))},onChange:function(t,n){return e.current.setPage(n-1)}})}var X=function(e){var t=e.users,n=e.decks,r=Object(c.useContext)(f).user,s=Object(m.f)(),i=a.a.useState(5),l=Object(o.a)(i,2),u=l[0],d=l[1],j=Object(c.useState)([]),b=Object(o.a)(j,2),O=b[0],g=b[1],p=Object(c.useState)([]),x=Object(o.a)(p,2),v=x[0],y=x[1],S=Object(c.useState)(1),N=Object(o.a)(S,2),E=N[0],k=N[1];r||s.push("/log-in"),Object(c.useEffect)((function(){var e=[];t.forEach((function(t){return e.push({id:t.id,username:t.username,email:t.email})})),g(e)}),[t]),Object(c.useEffect)((function(){var e=[];n.forEach((function(t){return e.push({id:t.id,title:t.title,description:t.description,numCards:t.cards.length,isPublic:t.isPublic})})),y(e)}),[n]);var P=function(e){var n,c=t.find((function(t){return t.id===e}));return null!==(n=null===c||void 0===c?void 0:c.isActive)&&void 0!==n&&n},U=[{field:"id",headerName:"\u30e6\u30fc\u30b6\u30fcID",width:290},{field:"username",headerName:"\u30e6\u30fc\u30b6\u30fc\u540d",width:300},{field:"email",headerName:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9",width:200},{field:"action",headerName:"",sortable:!1,width:200,renderCell:function(e){var t=function(t){t.stopPropagation();var n,c,a=e.api,r={};return a.getAllColumns().forEach((function(t){return r[t.field]=e.getValue(e.id,t.field)})),P(r.id)?(c=r.id,void W(c)):(n=r.id,void B(n))},n=e.api,c={};return n.getAllColumns().forEach((function(t){return c[t.field]=e.getValue(e.id,t.field)})),P(c.id)?Object(h.jsxs)("button",{style:{height:30,width:200,backgroundColor:"red",color:"white"},onClick:t,children:[Object(h.jsx)(w.a,{icon:C.f})," ","\u7121\u52b9\u5316\u3059\u308b"]}):Object(h.jsxs)("button",{style:{height:30,width:180,backgroundColor:"green",color:"white"},onClick:t,children:[Object(h.jsx)(w.a,{icon:C.i})," ","\u30a2\u30af\u30c6\u30a3\u30d6\u5316\u3059\u308b"]})}}],A=[{field:"id",headerName:"\u30bb\u30c3\u30c8ID",width:150},{field:"title",headerName:"\u30bf\u30a4\u30c8\u30eb",width:150},{field:"description",headerName:"\u8aac\u660e",width:150},{field:"numCards",headerName:"\u30ab\u30fc\u30c9\u306e\u6570",width:150},{field:"isPublic",headerName:"\u30d1\u30d6\u30ea\u30c3\u30af\u3055\u308c\u3066\u3044\u308b",width:180},{field:"action",headerName:"",sortable:!1,width:200,renderCell:function(e){return Object(h.jsxs)("button",{style:{height:30,width:200,backgroundColor:"red",color:"white"},onClick:function(t){t.stopPropagation();var n,c=e.api,a={};return c.getAllColumns().forEach((function(t){return a[t.field]=e.getValue(e.id,t.field)})),n=a.id,void R(n)},children:[Object(h.jsx)(w.a,{icon:C.h})," ","\u524a\u9664\u3059\u308b"]})}}];return Object(h.jsx)(m.c,{children:Object(h.jsx)(m.a,{path:"/",children:Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("section",{children:[Object(h.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around"},children:[Object(h.jsx)("div",{className:"hero-content",style:{paddingRight:100},children:Object(h.jsx)("div",{className:"buttons",children:Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:"btn btn-cta",onClick:function(){k(1)},children:"\u30e6\u30fc\u30b6\u30fc\u306e\u30ea\u30b9\u30c8"})})})}),Object(h.jsx)("div",{className:"hero-content",children:Object(h.jsx)("div",{className:"buttons",children:Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:"btn btn-cta",onClick:function(){k(2)},children:"\u30bb\u30c3\u30c8\u306e\u30ea\u30b9\u30c8"})})})})]}),Object(h.jsx)("div",{style:{height:400},children:1==E?Object(h.jsx)(T.a,{rows:O,columns:U,pageSize:u,disableSelectionOnClick:!0,onPageSizeChange:function(e){return d(e)},pagination:!0,components:{Pagination:M}}):Object(h.jsx)(T.a,{rows:v,columns:A,pageSize:u,disableSelectionOnClick:!0,onPageSizeChange:function(e){return d(e)},pagination:!0,components:{Pagination:M}})})]})})})})},V=function(e){var t=l.a.firestore(),n=Object(c.useState)([]),a=Object(o.a)(n,2),r=a[0],s=a[1];return Object(c.useEffect)((function(){if(e){var n=t.collection("decks").onSnapshot((function(e){var t=[];e.forEach((function(e){return t.push(Object(g.a)({id:e.id},e.data()))})),s(t)}),(function(e){return console.log("Error: ",e.message)}));return function(){return n()}}s([])}),[e]),{decks:r}},J=function(){var e=Object(m.f)(),t=Object(c.useContext)(f).user,n=p(t).users,a=V(t).decks,r=Object(c.useState)([]),s=Object(o.a)(r,2),i=s[0],l=s[1],u=Object(c.useState)([]),d=Object(o.a)(u,2),j=d[0],b=d[1],O=Object(c.useState)(!1),g=Object(o.a)(O,2),x=g[0],v=g[1],w=Object(c.useState)(""),C=Object(o.a)(w,2),y=C[0],S=C[1];Object(c.useEffect)((function(){x||l(n)}),[n]),Object(c.useEffect)((function(){console.log(a),x||b(a)}),[a]),Object(c.useEffect)((function(){y&&0!=y.length?(v(!0),l(n.filter((function(e){return e.username.includes(y)}))),b(a.filter((function(e){return e.title.includes(y)})))):(v(!1),l(n),b(a))}),[y]);return t||e.push("/log-in"),Object(h.jsxs)("div",{className:"app",children:[Object(h.jsx)(L,{onClick:function(n){switch(n.target.name){case"exit":return t?void e.push("/app"):void e.push("/");default:return}},onSearch:function(e){S(e)}}),Object(h.jsxs)(m.c,{children:[Object(h.jsx)(m.a,{path:"/log-in",children:Object(h.jsx)(N,{})}),Object(h.jsx)(m.a,{path:"/log-out",children:Object(h.jsx)("main",{children:Object(h.jsx)(k,{})})}),Object(h.jsx)(m.a,{path:"/my-account",children:Object(h.jsx)("main",{children:Object(h.jsx)(I,{})})}),Object(h.jsx)(m.a,{path:"/",children:Object(h.jsx)("main",{children:Object(h.jsx)(X,{users:i,decks:j})})})]})]})};s.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(i.a,{children:Object(h.jsx)(O,{children:Object(h.jsx)(J,{})})})}),document.getElementById("root"))}},[[198,1,2]]]);
//# sourceMappingURL=main.997fb153.chunk.js.map