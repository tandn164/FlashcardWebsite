(this["webpackJsonpflash-cards"]=this["webpackJsonpflash-cards"]||[]).push([[0],{46:function(e,t,n){},47:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var c=n(3),s=n.n(c),a=n(33),r=n.n(a),i=n(9),o=n(4),l=n(15),u=(n(42),n(43),n(44),{apiKey:"AIzaSyB25ZqbIrDuXWUokLFcsbltpjUf5pjhb-w",authDomain:"flashcardapp-d3306.firebaseapp.com",databaseURL:"https://flashcardapp-d3306.firebaseio.com",projectId:"flashcardapp-d3306",storageBucket:"flashcardapp-d3306.appspot.com",messagingSenderId:"635798969664",appId:"1:635798969664:web:562fb322eeb9d31667eea5",measurementId:"G-XSQ0TX77TY"});l.a.initializeApp(u);var j=l.a.auth(),d=l.a.firestore(),b=l.a,O=n(1),h=s.a.createContext(),f=function(e){var t=Object(c.useState)(null),n=Object(o.a)(t,2),s=n[0],a=n[1];return Object(c.useEffect)((function(){var e=j.onAuthStateChanged((function(e){a(e||null)}));return function(){return e()}})),Object(O.jsx)(h.Provider,{value:{user:s},children:e.children})},x=(n(46),n(47),n(13)),p=function(e){var t=l.a.firestore(),n=Object(c.useState)([]),s=Object(o.a)(n,2),a=s[0],r=s[1];return Object(c.useEffect)((function(){if(e){var n=t.collection("decks").where("owner","==",e.uid).onSnapshot((function(e){var t=[];e.forEach((function(e){return t.push(e.data())})),r(t)}),(function(e){return console.log("Error: ",e.message)}));return function(){return n()}}r([])}),[e]),{decks:a}},m=function(e){var t=l.a.firestore(),n=Object(c.useState)([]),s=Object(o.a)(n,2),a=s[0],r=s[1];return Object(c.useEffect)((function(){if(e){var n=t.collection("users").doc(e.uid).onSnapshot((function(e){var t=[];e.data().save_decks.forEach((function(e){return t.push(e)})),r(t),localStorage.setItem("save_decks",JSON.stringify(t))}),(function(e){return console.log("Error: ",e.message)}));return function(){return n()}}r([])}),[e]),{saveDecks:a}},g=function(){var e=l.a.firestore(),t=Object(c.useState)([]),n=Object(o.a)(t,2),s=n[0],a=n[1];return Object(c.useEffect)((function(){var t=e.collection("decks").onSnapshot((function(e){var t=[];e.forEach((function(e){return t.push(e.data())})),a(t)}),(function(e){return console.log("Error: ",e.message)}));return function(){return t()}}),[]),{allDecks:s}},v=n(7),k=n(6),y=function(e){var t=e.leftButtonText,n=void 0===t?"<":t,a=e.rightButtonText,r=void 0===a?">":a,i=e.animTime,l=void 0===i?.5:i,u=e.items,j=e.previousCallback,d=e.nextCallback,b=e.showButtons,h=void 0===b||b,f=Object(c.useState)(0),x=Object(o.a)(f,2),p=x[0],m=x[1],g=Object(c.useState)([]),v=Object(o.a)(g,2),k=v[0],y=v[1],C=Object(c.useState)(!0),w=Object(o.a)(C,2),S=w[0],N=w[1],E=Object(c.useRef)(null);Object(c.useEffect)((function(){var e=u.map((function(e){return Object(O.jsx)("div",{className:"carousel__item",children:e},e.key)}));if(u.length>0){var t=s.a.cloneElement(e[0],{key:"first"}),n=s.a.cloneElement(e[e.length-1],{key:"last"});e.unshift(n),e.push(t)}y(e)}),[u]),Object(c.useEffect)((function(){k.length<3||(0!==p&&p!==k.length-1||setTimeout((function(){E.current.style.transition="margin 0s cubic-bezier(.645,.045,.355,1)",0===p?m(k.length-2):p===k.length-1&&m(1)}),1e3*l),1!==p&&p!==k.length-2||setTimeout((function(){E.current.style.transition="margin "+l+"s cubic-bezier(.645,.045,.355,1)"}),50))}),[p,k,l]);var T=function(e){S&&("right"===e.target.name?(m((function(e){return e+1})),void 0!==d&&d(p-1)):"left"===e.target.name&&(m((function(e){return e-1})),void 0!==j&&j(p-1)),N(!1),setTimeout((function(){return N(!0)}),1e3*l+50))};return Object(O.jsxs)("div",{className:"carousel",children:[Object(O.jsx)("div",{ref:E,className:"carousel__inner",style:{marginLeft:"calc(-100% * "+p+")",width:100*k.length+"%",transition:"margin "+l+"s"},children:k}),Object(O.jsx)("div",{className:"spacer"}),h&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("button",{className:"btn-carousel left",onClick:function(e){return T(e)},name:"left",disabled:!S,children:n}),Object(O.jsx)("button",{className:"btn-carousel right",onClick:function(e){return T(e)},name:"right",disabled:!S,children:r})]})]})},C=function(e){var t=e.title,n=e.children;return Object(O.jsxs)("header",{className:"card-header",children:[Object(O.jsx)("p",{children:t}),Object(O.jsx)("div",{children:n})]})},w=function(e){var t=e.text;return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("p",{className:"content",children:t})})},S=function(e){var t=e.onClick,n=e.frontTitle,c=e.backTitle,a=e.frontText,r=e.backText,i=e.isFlipped,o=e.setIsFlipped,l=Object(O.jsx)(C,{title:n,children:Object(O.jsxs)("button",{className:"btn btn-icon-small",name:"exit",onClick:t,children:[Object(O.jsx)(v.a,{icon:k.q}),"\xa0Close"]})}),u=s.a.cloneElement(l,{title:c}),j=Object(O.jsx)("footer",{children:Object(O.jsx)("button",{className:"curl",name:"toggle",onClick:function(){return o((function(e){return!e}))},children:Object(O.jsx)(v.a,{icon:k.n,size:"2x",className:"icon"})})});return Object(O.jsx)("div",{className:i?"flippable flipped":"flippable",children:Object(O.jsxs)("div",{className:"flippable__inner",children:[Object(O.jsxs)("div",{className:"flippable__content front",children:[l,Object(O.jsx)(w,{text:a}),j]}),Object(O.jsxs)("div",{className:"flippable__content back",children:[u,Object(O.jsx)(w,{text:r}),j]})]})})},N=function(e){var t=e.size,n=void 0===t?"1x":t;return Object(O.jsx)(v.a,{icon:k.p,size:n,className:"spinner"})},E=function(e){var t=e.onClick,n=Object(c.useState)([]),s=Object(o.a)(n,2),a=s[0],r=s[1],i=Object(c.useState)(null),u=Object(o.a)(i,2),j=u[0],d=u[1],b=Object(c.useState)(!1),h=Object(o.a)(b,2),f=h[0],p=h[1],m=Object(c.useState)(!0),g=Object(o.a)(m,2),C=g[0],w=(g[1],Object(c.useState)(!1)),E=Object(o.a)(w,2),T=E[0],D=E[1],A=Object(x.h)().hash;if(Object(c.useEffect)((function(){if(D(!1),d(null),r(null),console.log(A),void 0!==A){var e=l.a.firestore();e.collection("decks").doc(A).get().then((function(e){D(!0)})).catch((function(e){D(!0),console.log("Error: ",e.message)})),e.collection("decks").doc(A).get().then((function(e){var t,n=[];null===(t=e.data().cards)||void 0===t||t.forEach((function(e){return n.push(e)})),d(n)})).catch((function(e){return console.log("Error: ",e.message)}))}}),[A]),Object(c.useEffect)((function(){D(!1);var e=[];(e=null!=j?j:[]).length>0&&(r(e.map((function(e){return Object(O.jsx)(S,{frontTitle:"Front",backTitle:"Back",frontText:e.front,backText:e.back,onClick:t,isFlipped:f,setIsFlipped:p},e.id)}))),D(!0))}),[f,t,j]),!T)return Object(O.jsx)("main",{children:Object(O.jsx)("div",{className:"container center",children:Object(O.jsx)(N,{})})});if(!a)return Object(O.jsx)("div",{className:"container center",children:Object(O.jsx)("p",{children:"We couldn't find this deck. :("})});if(!C||0===a.length)return Object(O.jsx)("div",{className:"container center",children:Object(O.jsx)("p",{children:"This deck is either private or has no cards! If you are the owner, you can view it and edit it from your dashboard."})});var B=function(){p(!1)};return Object(O.jsx)(y,{items:a,leftButtonText:Object(O.jsx)(v.a,{icon:k.b}),rightButtonText:Object(O.jsx)(v.a,{icon:k.c}),animTime:.3,previousCallback:B,nextCallback:B,showButtons:!0})},T=function(e,t,n,c){if(e){var s=d.collection("decks").doc(),a={id:s.id,numCards:c.length,title:t,description:n,owner:e.uid,cards:c};s.set(a).then(console.log("Created new deck.")).catch((function(e){console.error("Error creating deck: ",e.message)}))}else console.log("No user selected.")},D=function(e,t){e?d.collection("decks").doc(t).delete().then(console.log("Deck successfully deleted.")).catch((function(e){console.error("Error deleting deck: ",e.message)})):console.log("No user selected.")},A=function(e,t){if(e)return d.collection("users").doc(e.uid).update({save_decks:l.a.firestore.FieldValue.arrayUnion(t)}).then((function(){console.log("Updated deck with id: ",t.id)})).catch((function(e){console.error("Error updating document: ",e.message)}));console.log("No user selected.")},B=function(e,t){if(e)return d.collection("users").doc(e.uid).update({save_decks:l.a.firestore.FieldValue.arrayRemove({id:t.id,numCards:t.numCards,owner:t.owner,title:t.title,description:t.description})}).then((function(){console.log("Updated deck with id: ",t.id)})).catch((function(e){console.error("Error updating document: ",e.message)}));console.log("No user selected.")},F=function(e,t,n,c,s){if(e){var a={title:n,description:c,cards:s};return d.collection("decks").doc(t).update(a).then((function(){console.log("Updated deck with id: ",t)})).catch((function(e){console.error("Error updating document: ",e.message)}))}console.log("No user selected.")},U=function(e){var t=e.labelText,n=e.icon,s=void 0===n?null:n,a=e.type,r=void 0===a?"text":a,i=e.id,l=void 0===i?"":i,u=e.name,j=void 0===u?"":u,d=(e.placeholder,e.value),b=e.onChange,h=e.autocomplete,f=void 0===h?"on":h,x=Object(c.useState)(!0),p=Object(o.a)(x,2),m=p[0],g=p[1];return null===s&&"password"===r&&(s=Object(O.jsx)(v.a,{icon:k.j})),Object(O.jsxs)("div",{className:"input-block",children:[Object(O.jsx)("label",{htmlFor:l,children:t}),Object(O.jsxs)("div",{className:"input-row",children:[s,Object(O.jsx)("input",{type:"password"===r?m?"password":"text":r,name:j,id:l,value:d,onChange:b,style:{outline:"none"},autoComplete:f}),"password"===r&&Object(O.jsx)("button",{type:"button",className:"btn btn-icon",onClick:function(e){e.preventDefault(),g((function(e){return!e}))},children:m?Object(O.jsx)(v.a,{icon:k.h}):Object(O.jsx)(v.a,{icon:k.i})})]})]})},I=function(e){var t,n=e.title,c=e.styles,s=void 0===c?{textAlign:"center"}:c;return t=Object(O.jsx)("h1",{style:s,children:n}),Object(O.jsx)("header",{className:"page-heading",children:t})},P=function(e){var t=e.index,n=e.card,s=e.onSubmit,a=e.onUpdate,r=e.onDelete,i=(Object(c.useContext)(h).user,Object(c.useState)("")),l=Object(o.a)(i,2),u=l[0],j=l[1],d=Object(c.useState)(""),b=Object(o.a)(d,2),f=b[0],x=b[1];Object(c.useEffect)((function(){j(n.front),x(n.back)}),[n]);var p=function(e){"front"===e.target.name?j(e.target.value):"back"===e.target.name&&x(e.target.value)};return Object(O.jsxs)("form",{className:"card-editor",onSubmit:function(e){e.preventDefault(),console.log("Card to update: ",n.id),a(t,u,f),s()},children:[Object(O.jsxs)("div",{className:"input-block",children:[Object(O.jsx)("textarea",{name:"front",id:n.id+"-front",value:u,onChange:p}),Object(O.jsx)("label",{htmlFor:n.id+"-front",children:"Front"})]}),Object(O.jsxs)("div",{className:"input-block",children:[Object(O.jsx)("textarea",{name:"back",id:n.id+"-back",value:f,onChange:p}),Object(O.jsx)("label",{htmlFor:n.id+"-back",children:"Back"})]}),Object(O.jsx)("button",{className:"btn",children:"Update"}),Object(O.jsxs)("button",{className:"btn btn-warning",onClick:function(e){e.preventDefault(),r(t)},children:[Object(O.jsx)(v.a,{icon:k.r})," Delete card"]})]})},R=function(e){var t=e.onCreateCard,n=Object(c.useState)(!1),s=Object(o.a)(n,2),a=s[0],r=s[1],i=Object(c.useState)(""),l=Object(o.a)(i,2),u=l[0],j=l[1],d=Object(c.useState)(""),b=Object(o.a)(d,2),h=b[0],f=b[1],x=function(e){"front"===e.target.name?j(e.target.value):"back"===e.target.name&&f(e.target.value)};return a?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("button",{id:"add",className:"btn btn-tertiary highlighted",onClick:function(){return r(!1)},children:["Add card ",Object(O.jsx)(v.a,{icon:k.k,className:"icon"})]}),Object(O.jsxs)("form",{className:"card-editor",onSubmit:function(e){e.preventDefault(),console.log("Creating new card."),t(u,h),j(""),f(""),r(!1)},children:[Object(O.jsxs)("div",{className:"input-block",children:[Object(O.jsx)("textarea",{name:"front",id:"new-front",value:u,onChange:x}),Object(O.jsx)("label",{htmlFor:"new-front",children:"Front"})]}),Object(O.jsxs)("div",{className:"input-block",children:[Object(O.jsx)("textarea",{name:"back",id:"new-back",value:h,onChange:x,style:{outline:"none"}}),Object(O.jsx)("label",{htmlFor:"new-back",children:"Back"})]}),Object(O.jsx)("button",{className:"btn",children:"Create"})]})]}):Object(O.jsxs)("button",{className:"btn btn-tertiary",onClick:function(){return r(!0)},children:["Add card ",Object(O.jsx)(v.a,{icon:k.m,className:"icon"})]})},_=function(e){var t=e.listCards,n=e.onCards,a=Object(c.useState)(t||[]),r=Object(o.a)(a,2),i=r[0],l=r[1],u=Object(c.useState)(-1),j=Object(o.a)(u,2),d=j[0],b=j[1],h=Object(c.useState)([]),f=Object(o.a)(h,2),x=f[0],p=f[1],m=function(e){console.log(e.target.value),b((function(t){return t===e.target.value?-1:e.target.value}))},g=function(e){i.splice(e,1),l(i),n(i),C()},y=function(e,t,c){i[e]={front:t,back:c},l(i),n(i),C()};Object(c.useEffect)((function(){l(t)}),[t]),Object(c.useEffect)((function(){C()}),[d,i]);var C=function(){var e=i.map((function(e,t){var n=t===d?"btn btn-tertiary highlighted":"btn btn-tertiary";return console.log(t),Object(O.jsxs)(s.a.Fragment,{children:[Object(O.jsxs)("button",{className:n,value:t,onClick:m,children:[Object(O.jsxs)("span",{className:"truncate",children:['"',e.front,'"']}),d==="".concat(t)?Object(O.jsx)(v.a,{icon:k.d}):Object(O.jsx)(v.a,{icon:k.a})]}),d==="".concat(t)&&Object(O.jsx)(P,{index:t,card:e,onSubmit:function(){return b("")},onDelete:g,onUpdate:y})]},t)}));p(e)};return Object(O.jsxs)(O.Fragment,{children:[x,Object(O.jsx)(R,{onCreateCard:function(e,t){var c={front:e,back:t};i.push(c),l(i),n(i),C()}})]})},z=function(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(""),r=Object(o.a)(a,2),i=r[0],l=r[1],u=Object(c.useContext)(h).user,j=Object(x.f)(),d=Object(c.useState)(!1),b=Object(o.a)(d,2),f=b[0],p=b[1],m=Object(c.useState)([]),g=Object(o.a)(m,2),y=g[0],C=g[1],w=function(){T(u,n,i,y),p(!0),j.push("/app")};return Object(O.jsxs)("div",{style:{textAlign:"left"},children:[Object(O.jsxs)("form",{id:"new-deck",onSubmit:w,children:[Object(O.jsx)(U,{labelText:"\u984c\u540d",icon:Object(O.jsx)(v.a,{icon:k.l}),id:"title",name:"title",value:n,onChange:function(e){return s(e.target.value)},autocomplete:"off"}),Object(O.jsx)(U,{labelText:"\u8aac\u660e",icon:Object(O.jsx)(v.a,{icon:k.e}),id:"description",name:"description",value:i,onChange:function(e){return l(e.target.value)},autocomplete:"off"})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)(I,{title:"\u30ab\u30fc\u30c9",styles:{textAlign:"left"}}),Object(O.jsx)(_,{listCards:y,onCards:function(e){C(e)}})]}),Object(O.jsx)("button",{className:"btn btn-primary",onClick:function(e){w()},children:f?"Success!":"\u4f5c\u6210"})]})},L=n(19),W=function(e){var t=e.deckToEdit,n=e.setDeckToEdit,s=Object(c.useContext)(h).user,a=Object(x.f)(),r=JSON.parse(localStorage.getItem("deck")),i=t||r,u=Object(c.useState)(i.title),j=Object(o.a)(u,2),d=j[0],b=j[1],f=Object(c.useState)(!1),p=Object(o.a)(f,2),m=p[0],g=p[1],y=Object(c.useState)(i.description),C=Object(o.a)(y,2),w=C[0],S=C[1],N=Object(c.useState)([]),E=Object(o.a)(N,2),T=E[0],A=E[1],B=function(){F(s,i.id,d,w,T),n(Object(L.a)(Object(L.a)({},t),{},{title:d})),g(!0),setTimeout((function(){return g(!1)}),3e3)},P=l.a.firestore();Object(c.useEffect)((function(){i&&(console.log(i),P.collection("decks").doc(i.id).get().then((function(e){var t,n=[];null===(t=e.data().cards)||void 0===t||t.forEach((function(e){return n.push(e)})),A(n)})).catch((function(e){return console.log("Error: ",e.message)})))}),[]);return Object(O.jsxs)("div",{style:{textAlign:"left"},children:[Object(O.jsx)(I,{title:"\u30bb\u30c3\u30c8\u3092\u7de8\u96c6\u3059\u308b",styles:{textAlign:"left"}}),Object(O.jsxs)("form",{onSubmit:B,children:[Object(O.jsx)(U,{labelText:"\u984c\u540d",icon:Object(O.jsx)(v.a,{icon:k.l}),id:"title",name:"title",value:d,onChange:function(e){return b(e.target.value)},placeholder:"New Deck",autocomplete:"off"}),Object(O.jsx)(U,{labelText:"\u8aac\u660e",icon:Object(O.jsx)(v.a,{icon:k.e}),id:"description",name:"description",value:w,onChange:function(e){return S(e.target.value)},autocomplete:"off"})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)(I,{title:"\u30ab\u30fc\u30c9",styles:{textAlign:"left"}}),Object(O.jsx)(_,{listCards:T,onCards:function(e){A(e)}})]}),Object(O.jsx)("button",{className:"btn btn-primary",onClick:function(e){B()},children:m?"Success!":"\u7de8\u96c6"}),Object(O.jsxs)("div",{children:[Object(O.jsx)(I,{title:"\u30c7\u30c3\u30ad\u3092\u524a\u9664\u3059\u308b",styles:{textAlign:"left"}}),Object(O.jsx)("form",{onSubmit:function(e){e.preventDefault(),D(s,i.id),a.push("/app"),n(null)},children:Object(O.jsx)("button",{className:"btn btn-warning",children:"\u524a\u9664\u3059\u308b"})})]})]})},M=function(e){e.toggleDeck,e.setSelectedDecks;var t=e.length,n=e.deck,s=e.setDeckToEdit,a=e.mine,r=Object(x.f)(),i=Object(c.useContext)(h).user,l=Object(c.useState)(!1),u=Object(o.a)(l,2),j=u[0],d=u[1],b=localStorage.getItem("save_decks");Object(c.useEffect)((function(){d(f())}),[]);var f=function(){if(!b||0==b.length)return!1;var e=JSON.parse(b);if(!e||0==e.length)return!1;var t=e.filter((function(e){return e.id==n.id}));return t&&t.length>0};return Object(O.jsxs)("li",{style:{background:"#EAB2AE",marginBottom:20,borderRadius:10},children:[Object(O.jsx)("div",{onClick:function(){r.push("/app/d/"+n.id)},children:Object(O.jsxs)("label",{htmlFor:"checkbox",className:"truncate",children:[Object(O.jsx)("span",{}),Object(O.jsx)("strong",{children:n.title})," (",t," ","\u30ab\u30fc\u30c9",")"]})}),Object(O.jsx)("div",{className:"button-row",children:a?Object(O.jsxs)("button",{className:"btn btn-icon",style:{color:"black"},onClick:function(e){e.stopPropagation(),s(),localStorage.setItem("deck",JSON.stringify(n)),r.push("/app/edit")},children:[Object(O.jsx)(v.a,{icon:k.f})," \u7de8\u96c6\u3059\u308b"]}):Object(O.jsxs)("button",{className:"btn btn-icon",style:{color:"black"},onClick:function(e){e.stopPropagation(),j?(B(i,n),d(!1)):(A(i,n),d(!0))},children:[Object(O.jsx)(v.a,{icon:j?k.r:k.o})," ",j?"\u524a\u9664\u3059\u308b":"\u4fdd\u5b58\u3059\u308b"]})})]})},J=function(e){var t=e.decks,n=(e.selectedDecks,e.setSelectedDecks,e.setDeckToEdit),s=Object(c.useState)([]),a=Object(o.a)(s,2),r=a[0],i=a[1],l=Object(c.useContext)(h).user;return Object(c.useEffect)((function(){t&&i(t.map((function(e){return Object(O.jsx)(M,{length:e.numCards,deck:e,mine:l&&e.owner==l.uid,setDeckToEdit:function(){n({id:e.id,title:e.title,private:e.private,description:e.description})}},e.id)})))}),[t]),Object(O.jsx)("div",{className:"deck-list",children:Object(O.jsx)("ul",{children:r.length>0?r:Object(O.jsx)("p",{children:"\u30bb\u30c3\u30c8\u304c\u3042\u308a\u307e\u305b\u3093\u3002 \u4f5c\u6210\u3057\u3066\u958b\u59cb\u3057\u3066\u304f\u3060\u3055\u3044\uff01"})})})},X=function(e){var t=e.saveDecks,n=Object(c.useContext)(h).user,s=Object(x.f)();return n||s.push("/log-in"),Object(O.jsx)("div",{className:"dashboard",children:Object(O.jsx)(x.c,{children:Object(O.jsx)(x.a,{path:"/app/saved",children:Object(O.jsx)("div",{style:{display:"flex"},children:Object(O.jsxs)("div",{style:{width:"100%",margin:"0 auto",paddingRight:30},children:[Object(O.jsx)(I,{title:"\u4fdd\u5b58\u3057\u305f\u30bb\u30c3\u30c8"}),Object(O.jsx)("div",{children:Object(O.jsx)(J,{decks:t})})]})})})})})},q=function(e){var t=e.decks,n=e.cards,s=Object(c.useState)(null),a=Object(o.a)(s,2),r=a[0],i=a[1],l=Object(c.useContext)(h).user,u=Object(x.f)();return l||u.push("/log-in"),Object(O.jsx)("div",{className:"dashboard",children:Object(O.jsxs)(x.c,{children:[Object(O.jsx)(x.a,{path:"/app/edit",children:Object(O.jsx)(W,{deckToEdit:r,setDeckToEdit:i,cards:n})}),Object(O.jsxs)(x.a,{path:"/app/create",children:[Object(O.jsx)(I,{title:"\u65b0\u30bb\u30c3\u30c8"}),Object(O.jsx)(z,{})]}),Object(O.jsx)(x.a,{path:"/app/created",children:Object(O.jsxs)("div",{style:{display:"flex"},children:[Object(O.jsxs)("div",{style:{width:"100%",margin:"0 auto",paddingRight:30},children:[Object(O.jsx)(I,{title:"\u4f5c\u3063\u305f\u30bb\u30c3\u30c8"}),Object(O.jsx)("div",{children:Object(O.jsx)(J,{decks:t,setDeckToEdit:i})})]}),Object(O.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",paddingTop:100,paddingLeft:60,width:200},children:Object(O.jsx)("button",{onClick:function(){u.push("/app/create")},style:{color:"#B02A22",background:"transparent",display:"flex",border:"unset",fontSize:30,paddingBottom:30},children:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(v.a,{icon:k.m,style:{marginRight:5}})," \u65b0\u4f5c"]})})})]})})]})})},V=function(e){var t=e.onClick,n=e.decks,s=e.saveDecks,a=e.cards,r=Object(c.useState)(null),i=Object(o.a)(r,2),l=i[0],u=i[1],j=Object(c.useContext)(h).user,d=Object(x.f)();return j||d.push("/log-in"),Object(O.jsx)("div",{className:"dashboard",children:Object(O.jsxs)(x.c,{children:[Object(O.jsx)(x.a,{path:"/app/edit",children:Object(O.jsx)(W,{deckToEdit:l,setDeckToEdit:u,cards:a})}),Object(O.jsxs)(x.a,{path:"/app/create",children:[Object(O.jsx)(I,{title:"\u65b0\u30bb\u30c3\u30c8",styles:{textAlign:"left"}}),Object(O.jsx)(z,{})]}),Object(O.jsx)(x.a,{path:"/app/saved",children:Object(O.jsx)(X,{saveDecks:s})}),Object(O.jsx)(x.a,{path:"/app/created",children:Object(O.jsx)(q,{decks:n,cards:a})}),Object(O.jsx)(x.a,{path:"/app/d/:hash",children:Object(O.jsx)(E,{onClick:function(e){switch(e.target.name){case"exit":return j?void d.push("/app"):void d.push("/");default:return}}})}),Object(O.jsx)(x.a,{path:"/app",children:Object(O.jsxs)("div",{style:{display:"flex"},children:[Object(O.jsxs)("div",{style:{width:"50%",margin:"0 auto",paddingRight:30},children:[Object(O.jsx)(I,{title:"\u4f5c\u3063\u305f\u30bb\u30c3\u30c8"}),Object(O.jsxs)("div",{style:{padding:20,background:"#B9BBEA",borderRadius:10},children:[Object(O.jsx)("div",{children:Object(O.jsx)(J,{decks:n.slice(0,3),setDeckToEdit:u})}),n.length>3&&Object(O.jsx)("div",{style:{display:"flex",justifyContent:"end"},children:Object(O.jsx)("button",{id:"shuffle",name:"shuffle",onClick:function(){d.push("/app/created")},style:{color:"black",background:"transparent",border:"unset",fontSize:20},children:" \u3082\u3063\u3068\u898b\u308b"})})]})]}),Object(O.jsxs)("div",{style:{width:"50%",margin:"0 auto",paddingLeft:30},children:[Object(O.jsx)(I,{title:"\u4fdd\u5b58\u3057\u305f\u30bb\u30c3\u30c8"}),Object(O.jsxs)("div",{style:{padding:20,background:"#B9BBEA",borderRadius:10},children:[Object(O.jsx)("div",{children:Object(O.jsx)(J,{decks:s.slice(0,3)})}),s.length>3&&Object(O.jsx)("div",{style:{display:"flex",justifyContent:"end"},children:Object(O.jsx)("button",{id:"shuffle",name:"shuffle",onClick:function(){d.push("/app/saved")},style:{color:"black",background:"transparent",border:"unset",fontSize:20},children:" \u3082\u3063\u3068\u898b\u308b"})})]})]}),Object(O.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",paddingTop:100,paddingLeft:60,width:200},children:[Object(O.jsx)("button",{onClick:function(){d.push("/app/create")},style:{color:"#B02A22",background:"transparent",display:"flex",border:"unset",fontSize:30,paddingBottom:30},children:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(v.a,{icon:k.m,style:{marginRight:5}})," \u65b0\u4f5c"]})}),Object(O.jsx)("button",{onClick:t,style:{color:"#B02A22",background:"transparent",display:"flex",border:"unset",fontSize:30,paddingBottom:30},children:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(v.a,{icon:k.m,style:{marginRight:5}})," \u5fa9\u7fd2"]})}),Object(O.jsx)("button",{onClick:t,style:{color:"#B02A22",background:"transparent",display:"flex",border:"unset",fontSize:30},children:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(v.a,{icon:k.m,style:{marginRight:5}})," \u5c65\u6b74"]})})]})]})})]})})},G=function(e){var t=e.allDecks,n=Object(c.useContext)(h).user,s=Object(c.useState)(null),a=Object(o.a)(s,2),r=a[0],l=a[1],u=Object(x.f)();return n||u.push("/log-in"),Object(O.jsxs)(x.c,{children:[Object(O.jsx)(x.a,{path:"/app-edit",children:Object(O.jsx)(W,{deckToEdit:r,setDeckToEdit:l})}),Object(O.jsx)(x.a,{path:"/",children:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("header",{className:"hero",children:[Object(O.jsx)("section",{children:Object(O.jsx)("div",{className:"hero-content",children:Object(O.jsx)("div",{className:"buttons",children:Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(i.b,{className:"btn btn-cta",to:"/app",children:"\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9"})})})})}),Object(O.jsxs)("div",{className:"card-design",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{}),Object(O.jsx)("span",{}),Object(O.jsx)("span",{})]})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{}),Object(O.jsx)("span",{}),Object(O.jsx)("span",{})]})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{}),Object(O.jsx)("span",{}),Object(O.jsx)("span",{})]})]})]})]}),Object(O.jsx)("section",{className:"public-decks",children:Object(O.jsxs)("div",{children:[Object(O.jsx)(I,{title:"\u5168\u3066\u30bb\u30c3\u30c8"}),Object(O.jsx)("div",{style:{textAlign:"left"},children:Object(O.jsx)(J,{decks:t,setDeckToEdit:l})})]})})]})})]})},K=n(21),Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=Object(c.useContext)(h),i=r.user,l=Object(c.useState)(null),u=Object(o.a)(l,2),O=u[0],f=u[1],x=Object(c.useState)(null),p=Object(o.a)(x,2),m=p[0],g=p[1],v=Object(c.useState)("pending"),k=Object(o.a)(v,2),y=k[0],C=k[1],w=Object(c.useState)(0),S=Object(o.a)(w,2),N=S[0],E=S[1],T=Object(c.useState)(0),D=Object(o.a)(T,2),A=D[0],B=D[1],F=Object(c.useState)(0),U=Object(o.a)(F,2),I=U[0],P=U[1],R=Object(c.useState)(0),_=Object(o.a)(R,2),z=_[0],L=_[1],W=Object(c.useState)(0),M=Object(o.a)(W,2),J=M[0],X=M[1],q=Object(c.useState)(0),V=Object(o.a)(q,2),G=V[0],K=V[1];Object(c.useEffect)((function(){0!==N&&null==i&&(g(null),C("loading"),j.signInWithEmailAndPassword(t,n).then((function(e){var t=e.user;f(t),C("success")})).catch((function(e){console.error("Error logging user in: ",e.message),g(e),C("error")})))}),[N]),Object(c.useEffect)((function(){0!==A&&null==i&&(g(null),C("loading"),j.createUserWithEmailAndPassword(t,n).then((function(t){var n=t.user;d.collection("users").doc(n.uid).set({save_decks:[]}),t.user.updateProfile({displayName:e}),f(n),C("success")})).catch((function(e){console.error("Error signing user in: ",e.message),g(e),C("error")})))}),[A]),Object(c.useEffect)((function(){0!==I&&null!==i&&(g(null),C("loading"),j.signOut().then((function(){console.log("Logged out"),f(null),localStorage.removeItem("deck"),localStorage.removeItem("save_decks"),C("success")})).catch((function(e){console.error("Error logging user out: ",e.message),g(e.code),C("error")})))}),[I]),Object(c.useEffect)((function(){if(0!==z&&null!==i){g(null),C("loading");var c=b.auth.EmailAuthProvider.credential(j.currentUser.email,n);j.currentUser.reauthenticateWithCredential(c).then((function(){console.log("User successfully reauthenticated."),j.currentUser.updateEmail(t).then((function(){C("success")})).catch((function(e){g(e.code),C("error")})),C("loading"),j.currentUser.updateProfile({displayName:e,photoURL:a}).then((function(){f(j.currentUser),C("success")})).catch((function(e){g(e.code),C("error")}))})).catch((function(e){g(e.code),C("error")}))}}),[z]),Object(c.useEffect)((function(){if(0!==J&&null!==i){g(null),C("loading");var e=b.auth.EmailAuthProvider.credential(j.currentUser.email,n);j.currentUser.reauthenticateWithCredential(e).then((function(){console.log("User successfully reauthenticated."),j.currentUser.updatePassword(s).then((function(){C("success")})).catch((function(e){g(e.code),C("error")}))})).catch((function(e){g(e.code),C("error")}))}}),[J]),Object(c.useEffect)((function(){if(0!==G&&null!==i){g(null),C("loading");var e=b.auth.EmailAuthProvider.credential(j.currentUser.email,n);j.currentUser.reauthenticateWithCredential(e).then((function(){j.currentUser.delete().then((function(){C("success")})).catch((function(e){g(e.code),C("error")}))})).catch((function(e){g(e.code),C("error")}))}}),[G]);var Q=function(){return E((function(e){return e+1}))},Y=function(){return B((function(e){return e+1}))},Z=function(){return P((function(e){return e+1}))},H=function(){return L((function(e){return e+1}))},$=function(){return X((function(e){return e+1}))},ee=function(){return K((function(e){return e+1}))},te=function(){return C("pending")};return{userData:O,error:m,status:y,handleLogin:Q,handleSignup:Y,handleLogout:Z,handleChangeEmail:H,handleChangePassword:$,handleDeleteAccount:ee,resetStatus:te}},Y=function(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),n=t[0],s=t[1],a=Object(x.f)(),r=Object(c.useState)({email:"",password:""}),l=Object(o.a)(r,2),u=l[0],j=l[1],d=Q(null,u.email,u.password),b=d.status,f=d.error,p=d.handleLogin,m=Object(c.useContext)(h).user,g=function(e){var t=e.target,n=t.name,c=t.value;j((function(e){return Object(L.a)(Object(L.a)({},e),{},Object(K.a)({},n,c))}))};return Object(c.useEffect)((function(){m&&a.push("/app")}),[m]),Object(c.useEffect)((function(){if(null!==f)switch(f.code){case null:return void s("");case"auth/user-not-found":case"auth/wrong-password":return void s("\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u4e00\u81f4\u3057\u307e\u305b\u3093\u3002");case"auth/invalid-email":return void s("\u6709\u52b9\u306a\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002");default:return void s("\u4f55\u304b\u304c\u3046\u307e\u304f\u3044\u304b\u306a\u304b\u3063\u305f\u3002\u3082\u3046\u4e00\u5ea6\u3084\u308a\u76f4\u3057\u3066\u304f\u3060\u3055\u3044\u3002")}else s("")}),[f]),Object(O.jsxs)("div",{className:"login",style:{textAlign:"center"},children:[Object(O.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",marginRight:200},children:[Object(O.jsx)("div",{style:{display:"flex",paddingRight:50,fontSize:25,alignItems:"center"},children:Object(O.jsx)(i.b,{to:"/sign-up",children:"\u30b5\u30a4\u30f3\u30a2\u30c3\u30d7"})}),Object(O.jsx)(I,{title:"\u30ed\u30b0\u30a4\u30f3"})]}),Object(O.jsxs)("form",{style:{display:"inline-block"},onSubmit:function(e){e.preventDefault(),p()},children:[Object(O.jsx)(U,{labelText:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9",icon:Object(O.jsx)(v.a,{icon:k.g}),id:"email",name:"email",value:u.email,onChange:g,placeholder:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9"}),Object(O.jsx)(U,{labelText:"\u30d1\u30b9\u30ef\u30fc\u30c9",icon:Object(O.jsx)(v.a,{icon:k.j}),type:"password",id:"password",name:"password",value:u.password,onChange:g}),""!==n&&Object(O.jsx)("p",{className:"error",children:n}),Object(O.jsx)("button",{className:"btn btn-primary",style:{backgroundColor:"#526CC6",borderColor:"unset",borderRadius:20,borderWidth:0},disabled:""===u.password||""===u.email,children:"loading"===b?"\u8aad\u307f\u8fbc\u307f\u4e2d . . . ":"success"===b?"\u6210\u529f":"\u30ed\u30b0\u30a4\u30f3"})]})]})},Z=function(){var e=Object(c.useContext)(h).user,t=Q().handleLogout,n=Object(x.f)();return Object(c.useEffect)((function(){e&&(t(),setTimeout((function(){return n.push("/")}),1e3))}),[e]),Object(O.jsx)("div",{className:"container center",children:Object(O.jsxs)("p",{children:[Object(O.jsx)(N,{})," Logging out . . ."]})})},H=function(e){var t=e.handleChange,n=e.inputs,s=e.error,a=e.onSubmit,r=e.status,i=Object(c.useState)(""),l=Object(o.a)(i,2),u=l[0],j=l[1];return Object(c.useEffect)((function(){if(null!==s)switch(s){case null:return void j("");case"auth/wrong-password":return void j("Incorrect password.");default:return void j("Something went wrong. Please try again.")}else j("")}),[s]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(I,{title:"\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5909\u66f4\u3057\u3066\u304f\u3060\u3055\u3044"}),Object(O.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a()},children:[Object(O.jsx)(U,{labelText:"\u73fe\u5728\u306e\u30d1\u30b9\u30ef\u30fc\u30c9",icon:Object(O.jsx)(v.a,{icon:k.j}),type:"password",id:"password",name:"password",value:n.password,onChange:t}),Object(O.jsx)(U,{labelText:"\u65b0\u3057\u3044\u30d1\u30b9\u30ef\u30fc\u30c9",icon:Object(O.jsx)(v.a,{icon:k.j}),type:"password",id:"new-password",name:"newPassword",value:n.newPassword,onChange:t}),""!==u&&Object(O.jsx)("p",{className:"error",children:u}),Object(O.jsx)("button",{className:"btn btn-primary",style:{color:"white",background:"#526CC6",border:"unset"},children:"loading"===r?"\u8aad\u307f\u8fbc\u307f\u4e2d . . . ":"success"===r?"\u6210\u529f":"\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5909\u66f4\u3059\u308b"})]})]})},$=function(e){var t=e.handleChange,n=e.inputs,s=e.error,a=e.onSubmit,r=Object(c.useState)(""),i=Object(o.a)(r,2),l=i[0],u=i[1];return Object(c.useEffect)((function(){switch(s){case null:return void u("");case"auth/wrong-password":return void u("Incorrect password.");default:return void u("Something went wrong. Please try again.")}}),[s]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(I,{title:"\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u524a\u9664\u3059\u308b"}),Object(O.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a()},children:[Object(O.jsx)(U,{labelText:"\u73fe\u5728\u306e\u30d1\u30b9\u30ef\u30fc\u30c9",icon:Object(O.jsx)(v.a,{icon:k.j}),type:"password",id:"password",name:"password",value:n.password,onChange:t}),""!==l&&Object(O.jsx)("p",{className:"error",children:l}),Object(O.jsx)("button",{className:"btn btn-warning",children:"\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u5b8c\u5168\u306b\u524a\u9664\u3059\u308b"})]})]})},ee=function(e){var t=e.handleChange,n=e.inputs,s=e.onSubmit,a=e.error,r=e.status,i=e.onBack,l=Object(c.useState)(""),u=Object(o.a)(l,2),j=u[0],d=u[1];return Object(c.useEffect)((function(){if(null!==a)switch(a.code){case null:return void d("");case"auth/wrong-password":return void d("Incorrect password.");default:return void d("Something went wrong. Please try again.")}else d("")}),[a]),Object(c.useEffect)((function(){return function(){return i()}}),[]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(I,{title:"\u30e1\u30fc\u30eb\u3092\u66f4\u65b0\u3059\u308b"}),Object(O.jsxs)("form",{onSubmit:function(e){e.preventDefault(),s()},children:[Object(O.jsx)(U,{labelText:"\u30e6\u30fc\u30b6\u30fc\u540d",icon:Object(O.jsx)(v.a,{icon:k.s}),type:"username",id:"username",name:"username",value:n.username,onChange:t}),Object(O.jsx)(U,{labelText:"\u73fe\u5728\u306e\u30d1\u30b9\u30ef\u30fc\u30c9",icon:Object(O.jsx)(v.a,{icon:k.j}),type:"password",id:"password",name:"password",value:n.password,onChange:t}),Object(O.jsx)(U,{labelText:"\u30e1\u30eb\u30a2\u30c9\u30ec\u30b9",icon:Object(O.jsx)(v.a,{icon:k.g}),id:"email",name:"email",value:n.email,onChange:t,placeholder:"\u30e1\u30eb\u30a2\u30c9\u30ec\u30b9"}),""!==j&&Object(O.jsx)("p",{className:"error",children:j}),Object(O.jsx)("button",{className:"btn btn-primary",style:{color:"white",background:"#526CC6",border:"unset"},disabled:""===n.password||""===n.email||""===n.username,children:"loading"===r?"\u8aad\u307f\u8fbc\u307f\u4e2d . . . ":"success"===r?"\u6210\u529f":"\u30e1\u30fc\u30eb\u3092\u66f4\u65b0\u3059\u308b"})]})]})},te=function(){var e=Object(c.useContext)(h).user,t=Object(c.useState)({email:e.email||"",password:"",newPassword:"",username:e.displayName||"",avatarUrl:e.photoUrl||""}),n=Object(o.a)(t,2),s=n[0],a=n[1],r=Q(s.username,s.email,s.password,s.newPassword),l=r.loading,u=r.error,j=r.status,d=r.handleChangeEmail,b=r.handleChangePassword,f=r.handleDeleteAccount,p=r.resetStatus,m=Object(x.f)(),g=function(e){var t=e.target,n=t.name,c=t.value;a((function(e){return Object(L.a)(Object(L.a)({},e),{},Object(K.a)({},n,c))}))};return e||m.push("/log-in"),Object(O.jsx)("div",{className:"my-account",children:Object(O.jsx)("div",{className:"my-account-inner",style:{width:"50%",margin:"0 auto"},children:Object(O.jsxs)(x.c,{children:[Object(O.jsx)(x.a,{exact:!0,path:"/my-account",children:Object(O.jsxs)("div",{children:[Object(O.jsx)(I,{title:"\u30a2\u30ab\u30a6\u30f3\u30c8"}),Object(O.jsx)("div",{className:"account-data",children:Object(O.jsxs)(i.b,{to:"/my-account/change-email",className:"btn btn-tertiary",children:[Object(O.jsx)("span",{children:"\u30e1\u30fc\u30eb\u3092\u66f4\u65b0\u3059\u308b"}),Object(O.jsx)(v.a,{icon:k.c,className:"icon"})]})}),Object(O.jsx)("div",{className:"account-data",children:Object(O.jsxs)(i.b,{to:"/my-account/change-password",className:"btn btn-tertiary",children:[Object(O.jsx)("span",{children:"\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5909\u66f4\u3057\u3066\u304f\u3060\u3055\u3044"}),Object(O.jsx)(v.a,{icon:k.c,className:"icon"})]})}),Object(O.jsx)("div",{className:"account-data",children:Object(O.jsxs)(i.b,{to:"/log-out",className:"btn btn-tertiary",children:[Object(O.jsx)("span",{children:"\u30ed\u30b0\u30a2\u30a6\u30c8"}),Object(O.jsx)(v.a,{icon:k.c,className:"icon"})]})}),Object(O.jsx)("div",{className:"account-data",children:Object(O.jsxs)(i.b,{to:"/my-account/delete-account",className:"btn btn-warning",children:[Object(O.jsx)(v.a,{icon:k.r}),"\xa0\xa0\xa0\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u524a\u9664\u3059\u308b"]})})]})}),Object(O.jsx)(x.a,{exact:!0,path:"/my-account/change-email",children:Object(O.jsx)(ee,{handleChange:g,inputs:s,loading:l,onSubmit:d,error:u,status:j,onBack:p})}),Object(O.jsx)(x.a,{exact:!0,path:"/my-account/change-password",children:Object(O.jsx)(H,{handleChange:g,loading:l,inputs:s,onSubmit:b,error:u,status:j})}),Object(O.jsx)(x.a,{exact:!0,path:"/my-account/delete-account",children:Object(O.jsx)($,{handleChange:g,inputs:s,onSubmit:f,error:u})})]})})})},ne=function(e){var t=e.closeMenu;return Object(O.jsxs)("ul",{children:[Object(O.jsx)("li",{children:Object(O.jsx)(i.c,{to:"/my-account",className:"link",onClick:function(){return t()},children:"\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb"})}),Object(O.jsx)("li",{children:Object(O.jsx)(i.c,{to:"/log-out",className:"link",onClick:function(){return t()},children:"\u30ed\u30b0\u30a2\u30a6\u30c8"})})]})},ce=function(e){var t=e.onClick,n=e.isMenuOpen,s=e.mobile,a=void 0!==s&&s,r=Object(c.useState)("navbar"),l=Object(o.a)(r,2),u=l[0],j=l[1],d="btn btn-hamburger small-screen-only "+(n&&"open"),b=Object(x.g)(),f=Object(c.useContext)(h).user;return Object(c.useEffect)((function(){a||"/"===b.pathname?j("navbar"):j("navbar light")}),[b,a]),f?Object(O.jsx)("header",{className:u,style:{background:"#526CC6"},children:Object(O.jsxs)("div",{className:"navbar-inner",children:[Object(O.jsx)(i.b,{to:"/",className:"logo",children:"Flash Cards"}),Object(O.jsxs)("div",{className:"right-nav",children:[Object(O.jsx)("nav",{className:"large-screen-only",children:Object(O.jsx)(ne,{closeMenu:function(){return null}})}),Object(O.jsxs)("button",{className:d,name:"toggle-menu",onClick:t,children:[Object(O.jsx)("span",{}),Object(O.jsx)("span",{})]})]})]})}):null},se=function(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)({username:"",email:"",password:""}),r=Object(o.a)(a,2),l=r[0],u=r[1],j=Object(x.f)(),d=Q(l.username,l.email,l.password),b=d.status,f=d.error,p=d.handleSignup,m=Object(c.useContext)(h).user;Object(c.useEffect)((function(){null!==f&&console.log(f.message)}),[f]);var g=function(e){var t=e.target,n=t.name,c=t.value;u((function(e){return Object(L.a)(Object(L.a)({},e),{},Object(K.a)({},n,c))}))};return Object(c.useEffect)((function(){m&&j.push("/app")}),[m]),Object(c.useEffect)((function(){if(null!==f)switch(f.code){case null:return void s("");case"auth/weak-password":return void s("\u30d1\u30b9\u30ef\u30fc\u30c9\u306f6\u6587\u5b57\u4ee5\u4e0a\u3067\u3042\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002");case"auth/email-already-in-use":return void s("\u3053\u306e\u30e1\u30fc\u30eb\u306f\u3059\u3067\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u307e\u3059\u3002");case"auth/invalid-email":return void s("\u6709\u52b9\u306a\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002");default:return void s("\u4f55\u304b\u304c\u3046\u307e\u304f\u3044\u304b\u306a\u304b\u3063\u305f\u3002 \u3082\u3046\u4e00\u5ea6\u3084\u308a\u76f4\u3057\u3066\u304f\u3060\u3055\u3044\u3002")}else s("")}),[f]),Object(O.jsxs)("div",{className:"signup",style:{textAlign:"center"},children:[Object(O.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",marginRight:200},children:[Object(O.jsx)("div",{style:{display:"flex",paddingRight:50,fontSize:25,alignItems:"center"},children:Object(O.jsx)(i.b,{to:"/log-in",children:"\u30ed\u30b0\u30a4\u30f3"})}),Object(O.jsx)(I,{title:"\u30b5\u30a4\u30f3\u30a2\u30c3\u30d7"})]}),Object(O.jsxs)("form",{style:{display:"inline-block"},onSubmit:function(e){e.preventDefault(),p()},children:[Object(O.jsx)(U,{labelText:"\u30e6\u30fc\u30b6\u30fc\u540d",id:"username",name:"username",placeholder:"\u30e6\u30fc\u30b6\u30fc\u540d",value:l.username,onChange:g,icon:Object(O.jsx)(v.a,{icon:k.s})}),Object(O.jsx)(U,{labelText:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9",id:"email",name:"email",placeholder:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9",value:l.email,onChange:g,icon:Object(O.jsx)(v.a,{icon:k.g})}),Object(O.jsx)(U,{labelText:"\u30d1\u30b9\u30ef\u30fc\u30c9",id:"password",name:"password",type:"password",value:l.password,onChange:g}),""!==n&&Object(O.jsx)("p",{className:"error",children:n}),Object(O.jsx)("button",{className:"btn btn-primary",style:{backgroundColor:"#526CC6",borderColor:"unset",borderRadius:20,borderWidth:0},disabled:""===l.username||""===l.password||""===l.email,children:"loading"===b?"\u8aad\u307f\u8fbc\u307f\u4e2d . . . ":"success"===b?"\u6210\u529f":"\u30b5\u30a4\u30f3\u30a2\u30c3\u30d7"})]})]})},ae=function(e){var t=e.isOpen,n=e.setIsOpen,c=e.handleButtons;return Object(O.jsxs)("div",{className:t?"mobile-menu open":"mobile-menu",children:[Object(O.jsx)(ce,{onClick:c,isMenuOpen:t,mobile:!0}),Object(O.jsx)(ne,{closeMenu:function(){n(!1)}})]})},re=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(!1),r=Object(o.a)(a,2),i=r[0],l=r[1],u=Object(x.f)(),j=Object(c.useContext)(h).user,d=p(j).decks,b=m(j).saveDecks,f=g().allDecks;Object(c.useEffect)((function(){j||s([])}),[j]);var v=function(e){switch(e.target.name){case"exit":return j?void u.push("/app"):void u.push("/");case"toggle-menu":return void l((function(e){return!e}));default:return}};return j||u.push("/log-in"),Object(O.jsxs)("div",{className:"app",children:[Object(O.jsx)(ce,{onClick:v,isMenuOpen:i}),Object(O.jsx)(ae,{isOpen:i,setIsOpen:l,handleButtons:v}),Object(O.jsxs)(x.c,{children:[Object(O.jsx)(x.a,{path:"/log-in",children:Object(O.jsx)(Y,{})}),Object(O.jsx)(x.a,{path:"/log-out",children:Object(O.jsx)("main",{children:Object(O.jsx)(Z,{})})}),Object(O.jsx)(x.a,{path:"/sign-up",children:Object(O.jsx)(se,{})}),Object(O.jsx)(x.a,{path:"/my-account",children:Object(O.jsx)("main",{children:Object(O.jsx)(te,{})})}),Object(O.jsx)(x.a,{path:"/app/shuffle",children:Object(O.jsx)(E,{onClick:v})}),Object(O.jsx)(x.a,{path:"/app/d/:hash",children:Object(O.jsx)(E,{onClick:v})}),Object(O.jsx)(x.a,{path:"/app",children:Object(O.jsx)("main",{children:Object(O.jsx)(V,{onClick:v,decks:d,saveDecks:b,selectedDecks:n,setSelectedDecks:s})})}),Object(O.jsx)(x.a,{path:"/",children:Object(O.jsx)("main",{children:Object(O.jsx)(G,{allDecks:f,setSelectedDecks:s,selectedDecks:n})})})]})]})};r.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(i.a,{children:Object(O.jsx)(f,{children:Object(O.jsx)(re,{})})})}),document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.69f037ba.chunk.js.map